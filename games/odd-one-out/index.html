<!DOCTYPE html>
<html lang="en-US" dir="ltr">
    <head>
        <title>Odd One Out</title>
        <meta charset="UTF-8">
        <meta name="description" content="a certain anime index + tracker + games">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="theme-color" content="#000">
        <meta name="color-scheme" content="dark">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-title" content="Tsuzuku">
        <meta name="apple-mobile-web-app-status-bar-style" content="default">
        <link rel="icon" href="../../images/logo-192.png">
        <link rel="mask-icon" href="../../images/logo.svg" color="#000">
        <link rel="apple-touch-icon" href="../../images/logo-180.png">
        <link rel="manifest" href="../../manifest.webmanifest">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link rel="preconnect" href="https://raw.githubusercontent.com">
        <link rel="dns-prefetch" href="https://fonts.gstatic.com">
        <link rel="dns-prefetch" href="https://raw.githubusercontent.com">
        <link href="../../global.css" rel="stylesheet">
        <link href="./index.css" rel="stylesheet">
    </head>
    <body>
        <noscript>Tsuzuku is useless without JavaScript</noscript>
        <header>
            <a href="../" title="Games" style="display: inline-flex; align-items: center; margin-right: 19px;">
                <svg viewBox="0 -960 960 960" width="17" height="17">
                    <path d="m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"></path>
                </svg>
            </a>
            <span class="bold">Odd One Out</span>
            <span class="flex-separator"></span>
            <a href="https://github.com/kuzutsu/tsuzuku" rel="noreferrer" target="_blank" style="display: inline-flex; align-items: center; text-decoration: none;">
                <span>GitHub&nbsp;</span>
                <svg viewBox="0 -960 960 960" height="17" width="17">
                    <path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"></path>
                </svg>
            </a>
        </header>
        <main style="display: none;">
            <div class="menu">
                <span style="margin-right: 9.5px;">High</span>
                <span class="high bold" style="margin-right: 19px;"></span>
                <span style="margin-right: 9.5px;">Score</span>
                <span class="score bold"></span>
                <span class="plus bold" style="margin-left: 9.5px;"></span>
                <span class="minus bold" style="margin-left: 9.5px;"></span>
                <span class="min bold" style="margin-left: 9.5px;"></span>
                <span style="width: 100%; min-width: 19px;"></span>
                <span class="settings" title="Settings" tabindex="0" style="display: inline-flex; align-items: center;">
                    <svg viewBox="0 -960 960 960" width="17" height="17">
                        <path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"></path>
                    </svg>
                </span>
            </div>
            <div class="settings-container" style="display: none; flex-direction: column;">
                <div class="label">
                    <span style="color: var(--disabled);">â€» Changing any setting will reset both scores</span>
                </div>
                <table style="border-spacing: 0;">
                    <tr class="tr">
                        <td>General</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="category">Category</label>
                        </td>
                        <td>
                            <select id="category">
                                <option>tag</option>
                                <option>type</option>
                                <option>year</option>
                                <option>random</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="show-category">Show category</label>
                        </td>
                        <td>
                            <input id="show-category" type="checkbox"></input>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="choices">Number of choices</label>
                        </td>
                        <td>
                            <select id="choices">
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                                <option>6</option>
                                <option>7</option>
                                <option>8</option>
                                <option>9</option>
                                <option>10</option>
                                <option>random</option>
                            </select>
                        </td>
                    </tr>
                </table>
                <table style="border-spacing: 0;">
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="tr">
                        <td>Submit</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="auto-submit">Auto-submit</label>
                        </td>
                        <td>
                            <input id="auto-submit" type="checkbox"></input>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="result-submit">Show results on submit</label>
                        </td>
                        <td>
                            <input id="result-submit" type="checkbox"></input>
                        </td>
                    </tr>
                </table>
                <table style="border-spacing: 0;">
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="tr">
                        <td>Skip</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="skip">Enable skip</label>
                        </td>
                        <td>
                            <input id="skip" type="checkbox"></input>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="result-skip">Show results on skip</label>
                        </td>
                        <td>
                            <input id="result-skip" type="checkbox"></input>
                        </td>
                    </tr>
                </table>
                <table style="border-spacing: 0;">
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="tr">
                        <td>Score</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="reset-incorrect">Reset score when incorrect</label>
                        </td>
                        <td>
                            <input id="reset-incorrect" type="checkbox"></input>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="negative">Enable negative score</label>
                        </td>
                        <td>
                            <input id="negative" type="checkbox"></input>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            <div class="reset-high bold">Reset high</div>
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            <div class="reset-score bold">Reset score</div>
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            <div class="reset-both bold">Reset both</div>
                        </td>
                        <td></td>
                    </tr>
                </table>
            </div>
            <div class="query">
                <div class="query-container">
                    <span></span>
                </div>
                <span style="width: 100%;"></span>
                <span class="skip bold" tabindex="0" style="margin-left: 19px;">Skip</span>
                <span class="submit bold" tabindex="0" style="margin-left: 19px;">Submit</span>
            </div>
            <div class="choice"></div>
        </main>
        <footer>
            <div class="loading">Fetching database<span class="el">.</span><span class="lip">.</span><span class="sis">.</span></div>
            <span class="reload" title="Reload" tabindex="0" style="display: none; align-items: center; margin-left: 9.5px;">
                <svg viewBox="0 -960 960 960" width="17" height="17">
                    <path d="M480-160q-134 0-227-93t-93-227q0-134 93-227t227-93q69 0 132 28.5T720-690v-110h80v280H520v-80h168q-32-56-87.5-88T480-720q-100 0-170 70t-70 170q0 100 70 170t170 70q77 0 139-44t87-116h84q-28 106-114 173t-196 67Z"></path>
                </svg>
            </span>
        </footer>
        <script type="module" src="../../global.js"></script>
        <script>
            const
                settings = {
                    autoSubmit: false,
                    category: 'tag',
                    cheat: {},
                    choices: 4,
                    high: 0,
                    negative: true,
                    resetIncorrect: false,
                    resultSkip: false,
                    resultSubmit: true,
                    score: 0,
                    showCategory: true,
                    skip: true
                },
                settings2 = {};

            let value = null;

            try {
                const map = new Map(Object.entries(JSON.parse(localStorage.getItem('odd-one-out'))));

                for (const [key, value2] of Object.entries(settings)) {
                    if (map.has(key)) {
                        settings2[key] = map.get(key);
                    } else {
                        settings2[key] = value2;
                    }
                }

                localStorage.setItem('odd-one-out', JSON.stringify(settings2));
            } catch (e) {
                localStorage.setItem('odd-one-out', JSON.stringify(settings));
            }

            value = JSON.parse(localStorage.getItem('odd-one-out'));

            document.querySelector('#choices').value = value.choices;
            document.querySelector('#category').value = value.category;

            document.querySelector('#show-category').checked = value.showCategory;
            document.querySelector('#auto-submit').checked = value.autoSubmit;
            document.querySelector('#skip').checked = value.skip;
            document.querySelector('#negative').checked = value.negative;
            document.querySelector('#reset-incorrect').checked = value.resetIncorrect;
            document.querySelector('#result-submit').checked = value.resultSubmit;
            document.querySelector('#result-skip').checked = value.resultSkip;

            if (value.category === 'random') {
                document.querySelector('[for="show-category"]').style.color = '';
                document.querySelector('#show-category').removeAttribute('disabled');
                document.querySelector('#show-category').parentElement.parentElement.style.display = '';
            } else {
                document.querySelector('[for="show-category"]').style.color = 'var(--disabled)';
                document.querySelector('#show-category').setAttribute('disabled', '');
                document.querySelector('#show-category').parentElement.parentElement.style.display = 'none';
            }

            if (value.resetIncorrect) {
                document.querySelector('[for="negative"]').style.color = 'var(--disabled)';
                document.querySelector('#negative').setAttribute('disabled', '');
                document.querySelector('#negative').parentElement.parentElement.style.display = 'none';
            } else {
                document.querySelector('[for="negative"]').style.color = '';
                document.querySelector('#negative').removeAttribute('disabled');
                document.querySelector('#negative').parentElement.parentElement.style.display = '';
            }

            if (value.skip) {
                document.querySelector('[for="result-skip"]').style.color = '';
                document.querySelector('#result-skip').removeAttribute('disabled');
                document.querySelector('#result-skip').parentElement.parentElement.style.display = '';
            } else {
                document.querySelector('[for="result-skip"]').style.color = 'var(--disabled)';
                document.querySelector('#result-skip').setAttribute('disabled', '');
                document.querySelector('#result-skip').parentElement.parentElement.style.display = 'none';
            }
        </script>
        <script defer type="module" src="./index.js"></script>
    </body>
</html>